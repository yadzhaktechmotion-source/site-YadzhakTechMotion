{% extends "base.html" %}{% load i18n %}
{% block content %}
<a href="javascript:history.back()" class="btn btn-back btn-sm">â† {% trans "Back" %}</a>
<h1 class="h3 mb-3">{{ category.name }}</h1>
{% if category.description %}<p>{{ category.description }}</p>{% endif %}
{% if articles %}
  <div class="row g-3">
    {% for a in articles %}
      <div class="col-12 col-md-6">
        <div class="card h-100">
          <div class="card-body d-flex flex-column">
            <h2 class="h5 mb-3">{{ a.title }}</h2>
            {% if a.content %}
              <div class="mb-3 small text-muted" style="white-space: pre-wrap; max-height: 160px; overflow:auto;">{{ a.content }}</div>
            {% endif %}
            <div class="mt-auto d-flex flex-wrap gap-2">
              {% if a.pdf %}
                <a class="btn btn-primary btn-sm" href="{% url 'article_pdf_view' a.slug %}">{% trans "Open PDF" %}</a>
              {% endif %}
              {% if a.link1_url and a.link1_label %}
                <a class="btn btn-outline-secondary btn-sm" href="{{ a.link1_url }}" target="_blank" rel="noopener">{{ a.link1_label }}</a>
              {% endif %}
              {% if a.link2_url and a.link2_label %}
                <a class="btn btn-outline-secondary btn-sm" href="{{ a.link2_url }}" target="_blank" rel="noopener">{{ a.link2_label }}</a>
              {% endif %}

              <div class="vote-display mt-3 d-flex justify-content-end align-items-center gap-3">
                <div class="vote-item like">
                  <span class="emoji">ğŸ‘</span>
                  <span class="count">{{ a.likes }}</span>
                </div>
                <div class="vote-item dislike">
                  <span class="emoji">ğŸ‘</span>
                  <span class="count">{{ a.dislikes }}</span>
                </div>
              </div>
              
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p class="text-muted">{% trans "No articles yet." %}</p>
{% endif %}
{% endblock %}
